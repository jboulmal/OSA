var dateFormat=function(){var a=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,d=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,e=/[^-+\dA-Z]/g,f=function(b,a){b=String(b);for(a=a||2;b.length<a;)b="0"+b;return b};return function(b,g,m){var k=dateFormat;1!=arguments.length||"[object String]"!=Object.prototype.toString.call(b)||/\d/.test(b)||(g=b,b=void 0);b=b?new Date(b):new Date;if(isNaN(b))throw SyntaxError("invalid date");
g=String(k.masks[g]||g||k.masks["default"]);"UTC:"==g.slice(0,4)&&(g=g.slice(4),m=!0);var c=m?"getUTC":"get",l=b[c+"Date"](),q=b[c+"Day"](),n=b[c+"Month"](),r=b[c+"FullYear"](),h=b[c+"Hours"](),t=b[c+"Minutes"](),u=b[c+"Seconds"](),c=b[c+"Milliseconds"](),p=m?0:b.getTimezoneOffset(),v={d:l,dd:f(l),ddd:k.i18n.dayNames[q],dddd:k.i18n.dayNames[q+7],m:n+1,mm:f(n+1),mmm:k.i18n.monthNames[n],mmmm:k.i18n.monthNames[n+12],yy:String(r).slice(2),yyyy:r,h:h%12||12,hh:f(h%12||12),H:h,HH:f(h),M:t,MM:f(t),s:u,
ss:f(u),l:f(c,3),L:f(99<c?Math.round(c/10):c),t:12>h?"a":"p",tt:12>h?"am":"pm",T:12>h?"A":"P",TT:12>h?"AM":"PM",Z:m?"UTC":(String(b).match(d)||[""]).pop().replace(e,""),o:(0<p?"-":"+")+f(100*Math.floor(Math.abs(p)/60)+Math.abs(p)%60,4),S:["th","st","nd","rd"][3<l%10?0:(10!=l%100-l%10)*l%10]};return g.replace(a,function(a){return a in v?v[a]:a.slice(1,a.length-1)})}}();
dateFormat.masks={"default":"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"};dateFormat.i18n={dayNames:"Sun Mon Tue Wed Thu Fri Sat Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),monthNames:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec January February March April May June July August September October November December".split(" ")};
Date.prototype.format=function(a,d){return dateFormat(this,a,d)};
Date.prototype.setISO8601=function(a){a=a.match(/([0-9]{4})(-([0-9]{2})(-([0-9]{2})(T([0-9]{2}):([0-9]{2})(:([0-9]{2})(.([0-9]+))?)?(Z|(([-+])([0-9]{2}):([0-9]{2})))?)?)?)?/);var d=0,e=new Date(a[1],0,1);a[3]&&e.setMonth(a[3]-1);a[5]&&e.setDate(a[5]);a[7]&&e.setHours(a[7]);a[8]&&e.setMinutes(a[8]);a[10]&&e.setSeconds(a[10]);a[12]&&e.setMilliseconds(1E3*Number("0."+a[12]));a[14]&&(d=60*Number(a[16])+Number(a[17]),d*="-"==a[15]?1:-1);d-=e.getTimezoneOffset();time=Number(e)+6E4*d;this.setTime(Number(time))};
